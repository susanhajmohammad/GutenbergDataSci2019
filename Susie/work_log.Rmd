---
title: "Gutenbergr Work Log"
author: "Susan Hajmohammad"
date: "February 13, 2019"
output: html_document
---

```{r setup, include=FALSE}
library(gutenbergr)
library(dplyr)

library(stringr)



castle_otranto <- gutenberg_download(696)

#frankenstein <- gutenberg_download(41445)

#the_vampyre <- gutenberg_download(6087)

#old_english_baron <- gutenberg_download(5182)

#mysteries_udolpho <- gutenberg_download(3268)


books <- gutenberg_download(c(696, 41445, 6087, 5182, 3268), meta_fields = "title")


books %>% 
  count(title)


#gothic_books <- gutenberg_metadata %>%
  #filter(gutenberg_subjects == "Gothic fiction")

gothic_books <- gutenberg_subjects%>%
  filter(subject == "Gothic fiction (Literary genre)")


# gb <- gutenberg_metadata %>%
#   gutenberg_subjects(subject == "Gothic fiction (Literary genre)")%>%
#   gutenberg_download(meta_fields = "author")

gf <- gutenberg_metadata%>%
  filter(gutenberg_bookshelf == "Gothic Fiction")


gb <- gutenberg_metadata

# authors <- gutenberg_metadata %>%
#   count(author, sort = TRUE, meta_fields )
#   
# 
# 
# gothic_authors <- authors %>%
#   filter(gutenberg_bookshelf == "Gothic fiction",
#          language == "en",
#          !str_detect(title, "Works"),
#          has_text,
#          !str_detect(rights, "Copyright")) %>%
#          distinct(title)
fgh

#gothic_books_1 <- gutenberg_subjects%>%
  #filter(gutenberg_bookshelf == "Gothic fiction")


gothic_df <- gutenberg_download(gothic_books)


# gothic_df <- gutenberg_metadata%>%
#   gutenberg_download(meta_fields = "author")
#   gutenberg_download(gothic_books)

summary(gothic_df)


#gothic_df%>% 
  #group_by(gutenberg_bookshelf)


#detective <- gutenberg_subjects %>%
  #filter(subject == "Detective and mystery stories")



subjects <- gutenberg_subjects


```


```{r }


library(tidytext)

words <- books %>%
  unnest_tokens(word, text)


word_counts <- words %>%
  anti_join(stop_words, by = "word") %>%
  count(title, word, sort = TRUE)%>%
  group_by(title)

word_counts


```



```{r }

gutenberg_metadata




horace <- gutenberg_works(author == "Walpole, Horace")

#gutenberg_authors%>%
  #filter(author == "HORACE WALPOLE")



```


Notes: 
  
  **Gutenbergr Vinnette** 
   
  For basics like title, author and language
    
  Use "gutenberg_metadata"
      
  ex: library(dplyr)

  gutenberg_metadata %>%
      filter(title == "Wuthering Heights")
    
  gutenberg_works(author == "Austen, Jane")
    
  "pre-filters" the data set 
      
      
*Another way to filter*      
      library(stringr)
gutenberg_works(str_detect(author, "Austen"))


*To download a book using the ID you can use*

  wuthering_heights <- gutenberg_download(768)
  wuthering_heights


You can find book IDs on ???


*How to filter by subjects*

gutenberg_subjects %>%
  filter(subject == "Detective and mystery stories")

  
*To find info on the authors* 

gutenberg_authors()



  
  **Units of Analysis**
  
 *This is to make a dataframe of all the words*
 
  library(tidytext)

words <- books %>%
  unnest_tokens(word, text)

words


*This counts the amount of times each word is used*

word_counts <- words %>%
  anti_join(stop_words, by = "word") %>%
  count(title, word, sort = TRUE)

word_counts

    
    







```{r }

```
